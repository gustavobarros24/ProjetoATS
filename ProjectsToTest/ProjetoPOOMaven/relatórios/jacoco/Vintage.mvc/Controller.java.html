<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Controller.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ProjetoPOO</a> &gt; <a href="index.source.html" class="el_package">Vintage.mvc</a> &gt; <span class="el_source">Controller.java</span></div><h1>Controller.java</h1><pre class="source lang-java linenums">package Vintage.mvc;

import Vintage.qql.*;

import java.io.*;
import java.util.Map;
import java.util.List;
import java.time.LocalDateTime;

public class Controller {
    private Model model;

<span class="nc" id="L13">    public Controller(Model m) {</span>
<span class="nc" id="L14">        this.model = m;</span>
<span class="nc" id="L15">    }</span>

<span class="nc" id="L17">    public Controller(Controller c) {</span>
<span class="nc" id="L18">        this.model = c.getModel();</span>
<span class="nc" id="L19">    }</span>

    public Model getModel() {
<span class="nc" id="L22">        return this.model;</span>
    }

    public void setUpReadFromBinaryFile(String filename) throws IOException, ClassNotFoundException {
<span class="nc" id="L26">        FileInputStream fis = new FileInputStream(filename);</span>
<span class="nc" id="L27">        ObjectInputStream ois = new ObjectInputStream(fis);</span>
<span class="nc" id="L28">        this.model = (Model) ois.readObject();</span>
<span class="nc" id="L29">        ois.close();</span>
<span class="nc" id="L30">    }</span>

    public String addUtilizador(String nome, String email, String morada, String nif) {
<span class="nc" id="L33">        Utilizador u = new Utilizador(nome, email, morada, nif);</span>
<span class="nc" id="L34">        String utilizadorEmail = this.model.addUtilizador(u);</span>
<span class="nc" id="L35">        return utilizadorEmail;</span>
    }

    public String addTransportadora(String nome, float imposto, float valorPeq, float valorMed, float valorGra, float lucro) {
<span class="nc" id="L39">        Transportadora t = new Transportadora(nome, imposto, valorPeq, valorMed, valorGra, lucro);</span>
<span class="nc" id="L40">        String transportadoraNome = this.model.addTransportadora(t);</span>
<span class="nc" id="L41">        return transportadoraNome;</span>
    }

   /* public String addArtigo(String nome, String descricao, String marca, Integer codigo, float precoBase, float correcaoPreco, boolean novo, int numDonos, String condicao, String transportadora) {
        Artigo a = new Artigo(nome, descricao, marca, codigo, precoBase, correcaoPreco, novo, numDonos, condicao, transportadora);
        String artigoNome = this.model.addArtigo(a);
        return artigoNome;
    }*/

    public String addMala(String nome, String descricao, String marca, Integer codigo, float precoBase, float correcaoPreco, boolean novo, int numDonos, String condicao, String transportadora, int stock, float dimensao, String material, int anoColecao, boolean premium, float valorizacao, String currentUser) {
<span class="nc" id="L51">        Mala a = new Mala(nome, descricao, marca, codigo, precoBase, correcaoPreco, novo, numDonos, condicao, transportadora, stock, currentUser, dimensao, material, anoColecao, premium, valorizacao);</span>
<span class="nc" id="L52">        String malaNome = this.model.addMala(a, currentUser);</span>
<span class="nc" id="L53">        return malaNome;</span>
    }

    public String addSapatilha(String nome, String descricao, String marca, Integer codigo, float precoBase, float correcaoPreco, boolean novo, int numDonos, String condicao, String transportadora, int stock, int tamanho, boolean atacadores, String cor, int anoLancamento, boolean premium, String currentUser) {
<span class="nc" id="L57">        Sapatilha a = new Sapatilha(nome, descricao, marca, codigo, precoBase, correcaoPreco, novo, numDonos, condicao, transportadora, stock, currentUser, tamanho, atacadores, cor, anoLancamento, premium);</span>
<span class="nc" id="L58">        String sapatilhaNome = this.model.addSapatilha(a, currentUser);</span>
<span class="nc" id="L59">        return sapatilhaNome;</span>
    }

    public String addTShirt(String nome, String descricao, String marca, Integer codigo, float precoBase, float correcaoPreco, boolean novo, int numDonos, String condicao, String transportadora, int stock, String tamanho, String padrao, int desconto, String currentUser) {
<span class="nc" id="L63">        TShirt a = new TShirt(nome, descricao, marca, codigo, precoBase, correcaoPreco, novo, numDonos, condicao, transportadora, stock, currentUser, tamanho, padrao, desconto);</span>
<span class="nc" id="L64">        String TShirtNome = this.model.addTShirt(a, currentUser);</span>
<span class="nc" id="L65">        return TShirtNome;</span>
    }

    public void changeDate(LocalDateTime initialDate) {
<span class="nc" id="L69">        this.model.setCurrentDate(initialDate);</span>
<span class="nc" id="L70">    }</span>

    public LocalDateTime getCurrentDateTime() {
<span class="nc" id="L73">        return this.model.getCurrentDateTime();</span>
    }

    public String showArtigos() {
<span class="nc" id="L77">        return this.model.showArtigos();</span>
    }

    public String showTransportadoras() {
<span class="nc" id="L81">        return this.model.showTransportadoras();</span>
    }

    public int getNumArtigos() {
<span class="nc" id="L85">        return this.model.getNumArtigos();</span>
    }

    public int getNumTransportadoras() {
<span class="nc" id="L89">        return this.model.getNumTransportadoras();</span>
    }

    public Integer addArtigoEncomenda(Integer option_codigo, Integer option_stock, String currentUser) {
<span class="nc" id="L93">        return this.model.addArtigoEncomenda(option_codigo, option_stock, currentUser);</span>
    }

    public void addArtigoEncomenda2(Integer option_codigo) {
<span class="nc" id="L97">        this.model.addArtigoEncomenda2(option_codigo);</span>
<span class="nc" id="L98">    }</span>

    public Integer removeArtigoEncomenda(Integer option_codigo, String currentUser) {
<span class="nc" id="L101">        return this.model.removeArtigoEncomenda(option_codigo, currentUser);</span>
    }

    public String showEncomenda(String currentUser) {
<span class="nc" id="L105">        return this.model.showEncomenda(currentUser);</span>
    }

    public String showEncomendasFeitas(String currentUser) {
<span class="nc" id="L109">        return this.model.showEncomendasFeitas(currentUser);</span>
    }

    public boolean checkUtilizadorExiste(String email) {
<span class="nc" id="L113">        return this.model.checkUtilizadorExiste(email);</span>
    }

    public boolean checkTransportadoraExiste(String nome) {
<span class="nc" id="L117">        return this.model.checkTransportadoraExiste(nome);</span>
    }

    public boolean checkEncomendaVazia(String nome) {
<span class="nc" id="L121">        return this.model.checkEncomendaVazia(nome);</span>
    }

    public void initEncomendaUser(String nome) {
<span class="nc" id="L125">        this.model.initEncomendaUser(nome);</span>
<span class="nc" id="L126">    }</span>

    public float calcularPrecoFinalEncomenda(String currentUser) {
<span class="nc" id="L129">        return this.model.calcularPrecoFinalEncomenda(currentUser);</span>
    }

    public void finalizarCompra(String currentUser) {
<span class="nc" id="L133">        this.model.finalizarCompra(currentUser);</span>
<span class="nc" id="L134">    }</span>

    public void devolverEncomenda(String currentUser, Integer codigo) {
<span class="nc" id="L137">        this.model.devolverEncomenda(currentUser, codigo);</span>
<span class="nc" id="L138">    }</span>

    public float getLucroVintage() {
<span class="nc" id="L141">        return this.model.getLucro();</span>
    }

    public String getVendasUtilizador(String nome) {
<span class="nc" id="L145">        return this.model.getVendasUtilizador(nome);</span>
    }

    public String getMaiorVendedor() {
<span class="nc" id="L149">        return this.model.getMaiorVendedor();</span>
    }

    public String getMaiorVendedorPeriodo(LocalDateTime date1, LocalDateTime date2) {
<span class="nc" id="L153">        return this.model.getMaiorVendedorPeriodo(date1, date2);</span>
    }

    public float getMaiorVendedorValor(String nome) {
<span class="nc" id="L157">        return this.model.getMaiorVendedorValor(nome);</span>
    }

    public float getMaiorVendedorValorPeriodo(String nome, LocalDateTime date1, LocalDateTime date2) {
<span class="nc" id="L161">        return this.model.getMaiorVendedorValorPeriodo(nome, date1, date2);</span>
    }

    public String getMaiorTransportadora() {
<span class="nc" id="L165">        return this.model.getMaiorTransportadora();</span>
    }

    public float getMaiorTransportadoraValor(String nome) {
<span class="nc" id="L169">        return this.model.getMaiorTransportadoraValor(nome);</span>
    }

    public boolean checkUtilizadorEncADevolver(String nome) {
<span class="nc" id="L173">        return this.model.checkUtilizadorEncADevolver(nome);</span>
    }

    public boolean checkUtilizadorTemFaturas(String nome) {
<span class="nc" id="L177">        return this.model.checkUtilizadorTemFaturas(nome);</span>
    }

    public boolean checkUtilizadorTemEncADevolver(Integer codigo, String nome) {
<span class="nc" id="L181">        return this.model.checkUtilizadorTemEncADevolver(codigo, nome);</span>
    }

    public void storeState(String filename) throws FileNotFoundException, IOException {
<span class="nc" id="L185">        FileOutputStream fos = new FileOutputStream(filename);</span>
<span class="nc" id="L186">        ObjectOutputStream oos = new ObjectOutputStream(fos);</span>
<span class="nc" id="L187">        oos.writeObject(this.model);</span>
<span class="nc" id="L188">        oos.flush();</span>
<span class="nc" id="L189">        oos.close();</span>
<span class="nc" id="L190">    }</span>

    public void avancar(int hours) {
<span class="nc" id="L193">        this.model.avancar(hours);</span>
<span class="nc" id="L194">    }</span>

    public void startSimulation() {
<span class="nc" id="L197">        this.model.startSimulation();</span>
<span class="nc" id="L198">    }</span>

    public String showFaturas(String nome) {
<span class="nc" id="L201">        return this.model.showFaturas(nome);</span>
    }

    public void alterarValorTransportadora(String transportadora, int option, float valor) {
<span class="nc" id="L205">        this.model.alterarValorTransportadora(transportadora, option, valor);</span>
<span class="nc" id="L206">    }</span>

    public float showValorTransportadora(String transportadora, int option) {
<span class="nc" id="L209">        return this.model.showValorTransportadora(transportadora, option);</span>
    }

    public String showFormulaTransportadora(String transportadora) {
<span class="nc" id="L213">        return this.model.showFormulaTransportadora(transportadora);</span>
    }

    public void alterarFormulaTransportadora(String transportadora, String formula) {
<span class="nc" id="L217">        this.model.alterarFormulaTransportadora(transportadora, formula);</span>
<span class="nc" id="L218">    }</span>

    public Map&lt;String, Integer&gt; getListaMaioresVendedores(LocalDateTime date1, LocalDateTime date2) {
<span class="nc" id="L221">        return this.model.getListaMaioresVendedores(date1, date2);</span>
    }

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>